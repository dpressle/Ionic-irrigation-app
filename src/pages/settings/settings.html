<!--
  Generated template for the Settings page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar color="primary">
    <ion-title>Settings</ion-title>
    <ion-buttons end>
      <button ion-button icon-only (click)="saveSettings()">
        <!--<ion-icon name="checkmark"></ion-icon>-->
        Save
      </button>
    </ion-buttons>
  </ion-navbar>

</ion-header>


<ion-content padding>
   <ion-refresher (ionRefresh)="refreshAll($event)">               
    <ion-refresher-content 
      pullingIcon="arrow-down">
    </ion-refresher-content>
  </ion-refresher>

  <ion-list>
    <ion-list-header>
      <ion-note>wunderground</ion-note>
    </ion-list-header>
    <ion-item>
      <ion-label fixed >IP</ion-label>
      <ion-input type="text" [(ngModel)]="settings.wuip" ></ion-input>
    </ion-item>
    <ion-item>
      <ion-label fixed>API Key</ion-label>
      <ion-input type="text" [(ngModel)]="settings.apikey" ></ion-input>
    </ion-item>
    <ion-item>
      <ion-label fixed>Type</ion-label>
      <ion-select [(ngModel)]="settings.wutype">
        <ion-option value="pws">PWS</ion-option>
        <ion-option value="zip">Zip</ion-option>
      </ion-select>
      <!--<ion-input type="text" [(ngModel)]="settings.wutype" ></ion-input>-->
    </ion-item>
        <ion-item>
          <ion-label fixed>Zip</ion-label>
          <ion-input type="number" [(ngModel)]="settings.zip" ></ion-input>
        </ion-item>
        <ion-item>
          <ion-label fixed>PWS</ion-label>
          <ion-input type="text" [(ngModel)]="settings.pws"></ion-input>
        </ion-item>
          <button ion-item (click)="testWundergound()">
            Test WUnderground
          </button>
  </ion-list>
  <ion-list>
    <ion-list-header>
      <ion-note>Seasonal Adjust</ion-note>
    </ion-list-header>
      <ion-item>
        <ion-badge color="primary" item-right >{{settings.sadj}}</ion-badge>
        <ion-range min="0" max="200" step="1"  color="primary" [(ngModel)]="settings.sadj"></ion-range>
    </ion-item>
  </ion-list>

<ion-list radio-group [(ngModel)]="settings.ot">
      <ion-list-header>
        <ion-note>Output Type</ion-note>
      </ion-list-header>
      <ion-item>
        <ion-label>None</ion-label>
        <ion-radio value="0"></ion-radio>        
      </ion-item>
      <ion-item>
        <ion-label>Direct Positive</ion-label>
        <ion-radio value="1"></ion-radio>
      </ion-item>
      <ion-item>
        <ion-label>Direct Negative</ion-label>
        <ion-radio value="2" ></ion-radio>
      </ion-item>
      <ion-item>
        <ion-label>Open Sprinklers</ion-label>
        <ion-radio value="3" ></ion-radio>
      </ion-item>
</ion-list>
<ion-list>
     <ion-list-header>
       <ion-note>System</ion-note>
    </ion-list-header>
    <ion-item>
      <ion-label fixed>Web Port</ion-label>>
      <ion-input type="number" [(ngModel)]="settings.webport"></ion-input>
    </ion-item>
    <button ion-item  (click)="resetSystem()">
        Reset System
    </button>
    <button ion-item  (click)="factoryDefaults()">
        Factory Default
    </button>
  </ion-list>
</ion-content>
